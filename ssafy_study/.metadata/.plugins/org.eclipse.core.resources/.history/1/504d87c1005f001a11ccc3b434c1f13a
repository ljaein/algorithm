package study0301;

import java.util.Scanner;

public class Solution_D4_4796_의석이의우뚝선산 {

	static int N,r,l,res;
	static int[] san;
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int T = sc.nextInt();
		for(int t=1;t<=T;t++){
			N=sc.nextInt();
			san = new int[N];
			for(int i=0;i<N;i++)
				san[i]=sc.nextInt();
			int isup = 0;
			int cnt = 0;
			int l=0,r=0;
			for(int i=0;i<N-1;i++){
				
			}
			
		}
	}
	
	static void isfind(int prev, int cur, int d, int cnt){
		if(cur==N){
			return;
		}
		if(d==1){ //up
			if(san[prev]>san[cur]){
				l = cnt-1;
				isfind(cur,cur+1,-1,0);
			}else if(san[prev]<san[cur]){
				isfind(cur,cur+1,1,cnt+1);
			}else{
				isfind(cur,cur+1,0,0);
			}
		}else if(d==-1){//down
			if(san[prev]>san[cur]){
				isfind(cur,cur+1,-1,cnt+1);
			}else if(san[prev]<san[cur]){
				r = cnt-1;
				res +=r*l;
				r=0;l=0;
				isfind(prev,cur,1,0);
			}else{
				r=cnt-1;
				res += r*l;
				r=0;l=0;
				isfind(cur,cur+1,)
			}
		}
	}
	
	

}
