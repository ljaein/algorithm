package study0301;

import java.util.Scanner;

public class Main {


    public static void main(String[] args) {
   // write your code here

        Scanner sc = new Scanner(System.in);
        int T = sc.nextInt();


        for (int i=1; i<=T; i++){

            //입력값 받기
            int count = sc.nextInt();
            int[] arr = new int[count+1];
            for(int j=1; j<=count; j++ ){
                arr[j] = sc.nextInt();
            }//for(j)


            //갯수 체크하기
            int mountain=0;
            int front=0;
            int rear=0;
            for(int j=1; j<=count-1; j++){
            	if(arr[j]<arr[j+1]) front++; //증가구간 카운트
            	if(arr[j]>arr[j+1]) rear++; //감소구간 카운트

                //내려가다 다시 올라가는 경우
                if(j>1 && arr[j-1]>arr[j] && arr[j]<arr[j+1]){
                    mountain += front * rear;
                    front=0;
                    rear=0;
                }

                //정상찍고 내려가다 끝난 경우
                if(front>0 && j==count-1 && arr[j]>arr[j+1]){
                    mountain += front * (rear+1);
                }

            }//for(j)

            System.out.println("#" + i + " " +  mountain );
        }//for(i)

    }//main
}