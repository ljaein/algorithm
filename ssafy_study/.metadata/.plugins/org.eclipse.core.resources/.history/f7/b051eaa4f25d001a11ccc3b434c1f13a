package study0301;

import java.util.Scanner;

public class Solution_D4_8275_햄스터 {

	static int T,N,X,M,max;
	static int[][] con;
	static int[] cage;
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		T=sc.nextInt();
		for(int t=1;t<=T;t++){
			N=sc.nextInt();
			X=sc.nextInt();
			M=sc.nextInt();
			con = new int[M][3];
			cage = new int[N];
			max = 0;
			for(int i=0;i<M;i++){
				con[i][0]=sc.nextInt();
				con[i][1]=sc.nextInt();
				con[i][2]=sc.nextInt();
			}
			System.out.print("#"+t+" ");
			perm(0,0);
			System.out.println();
		}
	}

	static void perm(int cnt, int sum){
		if(cnt==N){
			if(check()){
				if(max<sum){
					for(int i=0;i<N;i++)
						System.out.print(cage[i]+" ");
				}
					
			}
			return;
		}
		for(int i=0;i<X;i++){
			cage[cnt]=i;
			perm(cnt+1,sum+i);
		}
	}
	
	static boolean check(){
		for(int i=0;i<M;i++){
			int sum = 0;
			for(int c=con[i][0];c<=con[i][1];c++){
				sum += cage[c];
			}
			if(sum!=con[i][2])
				return false;
		}
		return true;
	}
}
