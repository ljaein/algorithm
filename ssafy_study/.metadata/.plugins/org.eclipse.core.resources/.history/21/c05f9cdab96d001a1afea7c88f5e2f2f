package study0304;

import java.util.Arrays;
import java.util.Scanner;

public class Main_6497_전력난 {
	static int m,n;
	static int[] ver;
	static Cost[] cost;
	
	static class Cost implements Comparable<Cost>{
		int x,y,c;

		public Cost(int x, int y, int c) {
			super();
			this.x = x;
			this.y = y;
			this.c = c;
		}

		@Override
		public int compareTo(Cost arg0) {
			if(this.c>arg0.c)
				return 1;
			else
				return -1;
		}
		
	}
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		while(true){
			m=sc.nextInt();
			n=sc.nextInt();
			if(m==0 &&n==0)
				break;
			ver = new int[m];
			cost = new Cost[n];
			for(int i=0;i<m;i++)
				ver[i]=i;
			for(int i=0;i<n;i++){
				cost[i]=new Cost(sc.nextInt(),sc.nextInt(),sc.nextInt());
			}
			Arrays.sort(cost);
			for(int i=0;i<n;i++)
				System.out.println(cost[i].c);
		}
	}

}
