package study0203;

import java.util.Arrays;
import java.util.Scanner;

public class Main_17471_게리맨더링 {

	static int N, min;
	static int[] P;
	static int[] A, B;
	static int[][] map;

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();
		P = new int[N];
		map = new int[N][N];
		min = Integer.MAX_VALUE;
		for (int i = 0; i < N; i++) {
			P[i] = sc.nextInt();
		}
		for (int i = 0; i < N; i++) {
			int n = sc.nextInt();
			for (int j = 0; j < n; j++) {
				int c = sc.nextInt();
				map[i][c - 1] = 1;
			}
		}
		for (int i = 1; i < N; i++) {
			A = new int[i];
			B = new int[N - i];
			boolean[] check = new boolean[N];
			combi(0,0,i,check);
		}

	}
	public static void combi(int start, int cnt, int r, boolean[] check){
		if(cnt==r){
			int idx = 0;
			for(int i=0;i<N;i++){
				if(!check[i]){
					B[idx++]=i;
				}
			}
			System.out.println("A:"+Arrays.toString(A));
			System.out.println("B:"+Arrays.toString(B));
			return;
		}
		for(int i=start;i<N;i++){
			A[cnt]=i;
			check[i]=true;
			combi(i+1,cnt+1,r,check);
			check[i]=false;
		}
	}

}
